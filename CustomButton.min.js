(function(e){CustomButton=function(n,r,t,i,q,p,k,m,l){if(!l){l={}}if(!k){k=120}if(!m){m=30}l.height=m;var o=l.fg;var h=l.fg;var s=l.rover;var j=l.rout;Button.call(this,n,r,t,i,q,p,k,o,h,s,j,l)};Button=function(p,v,x,j,u,t,m,s,i,w,l,o){this.root=p;this.stage=v;this.parent_stage=v;var h=1;var q=m;var k=30;if(o){if(o.parent_stage!=null){this.parent_stage=o.parent_stage}if(o.no_mover_init!=null){h=(!o.no_mover_init)}if(o.height!=null){k=o.height}}if(!s){s="#fff"}if(!i){i="#069"}if(m<5){m=5}if(h){if(this.stage.lm_enableMouseOver){var n="*";if(this.root.lm&&this.root.lm.get_my_contents_id&&this.root.__contents_id){n=this.root.lm.get_my_contents_id(this.root)}this.stage.lm_enableMouseOver.call(this.stage,10,this.root.lm,n)}else{this.stage.enableMouseOver(10)}}this.button=new createjs.Container();this.button.x=u;this.button.y=t;this.button.width=q;this.button.height=k;this.parent_stage.addChild(this.button);this._bg=i;this.background=new createjs.Shape();this.background.graphics.setStrokeStyle(1).beginStroke(s).beginFill(i).drawRoundRect(0,0,q,k,4);this.background.cmd_fill=new createjs.Graphics.Fill(i);this.background.graphics.append(this.background.cmd_fill);this.button.addChild(this.background);this.label=new createjs.Text(x,"12px sans-serif",s);this.label.x=q/2;this.label.y=k/2;this.label.textAlign="center";this.label.textBaseline="middle";this.button.addChild(this.label);if(this.stage.isWebGL){this.btnW=q;this.btnH=k;this.background.cache(0,0,q,k);this.label.cache(-1*q/2,-1*k/2,q,k)}this.button.alpha=1;this.button.gc=this.background;this._callback_click=j;this._callback_rover=w;this._callback_rout=l;var r=this.root;this.button.on("click",this._click,this,false,r);this.button.on("mouseover",this._mouseover,this,false,r);this.button.on("mouseout",this._mouseout,this,false,r)};CursorButton=function(n,p,x,w,v,u,l,y,i,t,m,s,h,k){this.root=n;this.stage=p;if(!i){i="#fff"}if(!t){t="#069"}if(l<5){l=5}if(y<5){y=5}if(!Object.setPrototypeOf){Object.defineProperty(Object,"setPrototypeOf",{value:function q(B,A){B.__proto__=A},writable:true,configurable:true})}Object.setPrototypeOf(this,Button.prototype);if(this.stage.lm_enableMouseOver){var z="*";if(this.root.lm&&this.root.lm.get_my_contents_id&&this.root.__contents_id){z=this.root.lm.get_my_contents_id(this.root)}this.stage.lm_enableMouseOver.call(this.stage,10,this.root.lm,z)}else{this.stage.enableMouseOver(10)}this.button=new createjs.Container();this.button.x=v;this.button.y=u;this.button.width=l;this.button.height=y;x.addChild(this.button);this._bg=t;this.background=new createjs.Shape();var o=l;var r=y;this.background.graphics.setStrokeStyle(1).beginStroke(i).beginFill(t).drawRoundRect(0,0,o,r,4);this.background.cmd_fill=new createjs.Graphics.Fill(t);this.background.graphics.append(this.background.cmd_fill);this.button.addChild(this.background);this.label=new createjs.Shape(g(i));switch(w){case"left":this.label.rotation=-90;break;case"right":this.label.rotation=90;break;case"up":this.label.rotation=0;break;case"down":this.label.rotation=180;break}if(o>r){this.label.scaleX=this.label.scaleY=r/12;this.label.x=o/2-0*this.label.scaleX;this.label.y=r/2}else{this.label.scaleX=this.label.scaleY=o/12;this.label.x=o/2;this.label.y=r/2-0*this.label.scaleY}this.button.addChild(this.label);if(this.stage.isWebGL){this.btnW=o;this.btnH=r;this.background.cache(0,0,o,r);this.label.cache(-1*o/2,-1*r/2,o,r)}this.button.alpha=1;this.button.gc=this.background;this._callback_click=m;this._callback_rover=s;this._callback_rout=h;var j=this.root;this.button.on("click",this._click,this,false,j);this.button.on("mouseover",this._mouseover,this,false,j);this.button.on("mouseout",this._mouseout,this,false,j)};function g(h){var i=new createjs.Graphics();i.beginFill(h).moveTo(-5,3).lineTo(5,3).lineTo(0,-3).cp().ef();return i}CustomButton.prototype.set_geometry=function(i,h){c.call(this,i,h)};Button.prototype.set_geometry=function(i,h){c.call(this,i,h)};function c(i,h){if(i!=null){this.button.x=i}if(h!=null){this.button.y=h}}CustomButton.prototype.destroy=function(h){d.call(this,h)};Button.prototype.destroy=function(h){d.call(this,h)};function d(h){this.stage.removeChild(this.button);if(this.background){this.button.removeChild(this.background)}if(this.label){this.button.removeChild(this.label)}if(this.button){this.button.off("click",this._click);this.button.off("mouseover",this._mouseover);this.button.off("mouseout",this._mouseout)}delete this.button;delete this.background;delete this.label}CustomButton.prototype.get_version=function(){return"1.0"};Button.prototype.get_version=function(){return"1.5"};CustomButton.prototype.show=function(){this.button.visible=true};CustomButton.prototype.hide=function(){this.button.visible=false};Button.prototype.show=function(){this.button.visible=true};Button.prototype.hide=function(){this.button.visible=false};CustomButton.prototype._click=function(h,i){b.call(this,h,i)};Button.prototype._click=function(h,i){b.call(this,h,i)};function b(h,i){var k=h.target;var j=i;this.button.alpha=0.5;this.background.cmd_fill.style="pink";if(this._callback_click){this._callback_click.call(i,h,i)}if(this.stage){this.stage.update()}if(this.button){this.button.alpha=1}if(this.background){this.background.cmd_fill.style=this._bg}}CustomButton.prototype._mouseover=function(h,i){a.call(this,h,i)};Button.prototype._mouseover=function(h,i){a.call(this,h,i)};function a(h,j){var k=h.target;var i=j;if(document&&document.body&&document.body.style){document.body.style.cursor="pointer"}this.button.alpha=0.5;this.background.cmd_fill.style="cyan";if(this.stage){this.stage.update()}if(this._callback_rover){this._callback_rover.call(i,h,i)}}CustomButton.prototype._mouseout=function(h,i){a.call(this,h,i)};Button.prototype._mouseout=function(h,i){f.call(this,h,i)};function f(h,j){var k=h.target;var i=j;if(document&&document.body&&document.body.style){document.body.style.cursor=""}this.button.alpha=1;this.background.cmd_fill.style=this._bg;if(this.stage){this.stage.update()}if(this._callback_rout){this._callback_rout.call(i,h,i)}}CustomButton.prototype.update_text=function(h){this.label.text=h;if(this.stage.isWebGL){this.background.cache(0,0,this.btnW,this.btnH);this.label.cache(-1*this.btnW/2,-1*this.btnH/2,this.btnW,this.btnH)}};Button.prototype.update_text=function(h){this.label.text=h;if(this.stage.isWebGL){this.background.cache(0,0,this.btnW,this.btnH);this.label.cache(-1*this.btnW/2,-1*this.btnH/2,this.btnW,this.btnH)}}}(window));